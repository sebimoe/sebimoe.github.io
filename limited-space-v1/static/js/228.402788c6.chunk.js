"use strict";(self.webpackChunklimited_space=self.webpackChunklimited_space||[]).push([[228],{6228:function(n,e,s){s.r(e),s.d(e,{default:function(){return w}});var t=s(885),r=s(2982),a=s(2791),o=s(9434),u=s(4421),l=s(8654),c=s(1143),i=s(6617),d=s(8479),p=s(5995),m=s(1403),f=s(184);var h=function(n){var e=n.countdownStart,s=void 0===e?3:e,r={volume:(0,m.t)((0,o.v9)((function(n){return n.game.sfxVolume}))),interrupt:!0},u=(0,o.v9)((function(n){return n.round.roundPhase})),l=(0,o.v9)((function(n){return n.round.phaseSecondsLeft})),c="ongoing"===u?"Finish!":"Go!",i=(0,p.Z)(d.Z.countdownSound1Src,r),h=(0,t.Z)(i,1)[0],g=(0,p.Z)(d.Z.countdownSound2Src,r),v=(0,t.Z)(g,1)[0],x=(0,p.Z)(d.Z.gameEndBlipSrc,r),y=(0,t.Z)(x,1)[0],j=(0,a.useRef)(null);(0,a.useEffect)((function(){j.current!==l&&(j.current=l,null!==l&&l<=s&&(l>0?h():"ongoing"===u?y():v()))}),[j,l,s,h,v]);var b=(0,a.useMemo)((function(){return null!==l&&l<=s?l>0||!c?l:c:null}),[l,s,c]);return(0,f.jsx)("div",{className:"round-countdown",children:b&&(0,f.jsx)("div",{className:"round-countdown__number",children:(0,f.jsx)("span",{children:b},l)})})},g=s(7573);var v=function(){var n=(0,o.I0)(),e=(0,o.v9)((function(n){return n.round.roundPhase})),s=(0,o.v9)((function(n){return n.round.started})),t=(0,o.v9)((function(n){return n.round.phaseSecondsLeft}));return(0,a.useEffect)((function(){var e=setInterval((function(){n((0,g.V2)())}),200);return function(){return clearInterval(e)}}),[n]),(0,a.useEffect)((function(){"prep"===e&&s&&null===t?n((0,g.MX)("ongoing")):"ongoing"===e&&null===t&&n((0,g.MX)("results"))}),[e,s,t,n]),null};function x(n){var e=n.input,s=(0,o.v9)((function(n){return n.round.roundPhase}));return(0,f.jsx)("div",{className:"player-input ".concat("results"===s?"checked":""),children:e.map((function(n,s){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:"word ".concat(n.mistake?"mistake":""," ").concat(n.banned?"banned":""," ").concat(n.valid?"valid":""," ").concat(n.dupe?"dupe":""),children:n.content},s),s!==e.length-1?(0,f.jsx)("span",{className:"space",children:" "}):null]})}))})}function y(n){var e=n.bans;return(0,f.jsxs)("h3",{title:"Two consonants are randomly banned each round",className:"ban-display",children:[(0,f.jsx)("span",{className:"ban-display__description",children:"Words containing "},"top"),e.map((function(n,s){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:"ban-display__ban",children:n},"".concat(s,"-").concat(n)),s!==e.length-1?s!==e.length-2?", ":" and ":""]})})),(0,f.jsxs)("span",{className:"ban-display__description",children:[" are ",(0,f.jsx)("b",{children:"banned"}),"!"]},"bottom")]})}var j={dupes:"Duplicate Words",banned:"Banned Words",mistakes:"Incorrect Words",spaces:"Spaces Used",words:"Valid Words",letters:"Typed Letters"},b={dupes:"Repeated words",banned:"Words containing banned letters",mistakes:"Words not matching English dictionary",spaces:"Number of spaces used",words:"Correct words",letters:"Number of letters in valid words"},Z={dupes:-100,banned:-50,mistakes:-30,spaces:-20,words:10,letters:5};function N(n){var e=n.results,s=["letters","words","spaces","mistakes","banned","dupes"].map((function(n){return[j[n],e[n],e[n]*Z[n],b[n]]}));return(0,f.jsxs)("p",{className:"results-display",children:[s.map((function(n,e){var s=(0,t.Z)(n,4),r=s[0],a=s[1],o=s[2],u=s[3];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:"results-display__title",title:u,children:r},3*e),(0,f.jsx)("span",{className:"results-display__result",children:a},3*e+1),(0,f.jsx)("span",{className:"results-display__points",children:o},3*e+2)]})})),(0,f.jsx)("span",{className:"results-display__title results-display--total",children:"Total"}),(0,f.jsx)("span",{className:"results-display__result results-display--total"}),(0,f.jsx)("span",{className:"results-display__points results-display--total",children:s.reduce((function(n,e){return n+e[2]}),0)})]})}function _(){for(var n=(0,r.Z)("BCDFGHJKLMNPQRSTVXZW"),e=[],s=0;s<2;s++){var t=Math.floor(Math.random()*n.length);e.push(n[t]),n.splice(t,1)}return e}function w(){var n=(0,o.I0)(),e=(0,o.v9)((function(n){return n.round.roundPhase})),s=(0,o.v9)((function(n){return n.round.phaseSecondsLeft})),r=(0,o.v9)((function(n){return n.round.localPlayerInput})),j=(0,o.v9)((function(n){return n.round.bans})),b=(0,o.v9)((function(n){return n.round.results})),Z={volume:(0,m.t)((0,o.v9)((function(n){return n.game.sfxVolume}))),interrupt:!0},w=(0,p.Z)(d.Z.typing1,Z),k=(0,t.Z)(w,1)[0],S=(0,p.Z)(d.Z.typing2,Z),W=(0,t.Z)(S,1)[0],M=(0,p.Z)(d.Z.typing3,Z),C=(0,t.Z)(M,1)[0],E=(0,p.Z)(d.Z.typingSpace,Z),P=(0,t.Z)(E,1)[0],L=(0,a.useCallback)((function(){n((0,u.lc)("menu"))}),[n]),T=(0,a.useCallback)((function(){n((0,g.oW)({bans:_(),ongoingPhaseDuration:20})),n((0,g.MX)("prep"))}),[n]);return(0,a.useEffect)((function(){var s=function(s){var t=s.key;if("ongoing"===e){var r=t.toUpperCase();/^[A-Z ]$/.test(r)&&(n((0,g.Jf)(r))," "===r?P():[k,W,C][~~(3*Math.random())]())}};return document.addEventListener("keydown",s,{passive:!0}),function(){return document.removeEventListener("keydown",s)}}),[n,e,k,W,C,P]),(0,a.useEffect)((function(){n((0,g.oW)({bans:_(),ongoingPhaseDuration:20})),n((0,g.MX)("prep"))}),[n]),(0,f.jsxs)(l.Z,{className:"play-screen",title:(0,f.jsx)("img",{className:"logo logo--small",src:c,alt:"Limited Space game logo"}),children:[(0,f.jsx)(h,{}),(0,f.jsx)(v,{}),(0,f.jsx)("h3",{style:{marginBottom:0},children:"Type as many english words as you can using the least amount of spaces (the longer the word the better)."}),(0,f.jsx)(y,{bans:j}),"ongoing"===e&&(0,f.jsxs)("h1",{children:["Time left: ",s," seconds."]}),(0,f.jsx)("div",{className:"play-area",style:{marginBottom:"4rem",maxWidth:"80vw"},children:1!==r.length||r[0].content.length?(0,f.jsx)(x,{input:r}):""}),"results"===e?(0,f.jsx)(N,{results:b}):null,(0,f.jsxs)("div",{className:"main-menu-buttons",style:{marginTop:"4rem"},children:[(0,f.jsx)(i.Z,{onClick:T,children:"results"===e?"Play Again":"Restart"}),(0,f.jsx)(i.Z,{onClick:L,children:"results"===e?"Back to Menu":"Give Up"})]})]})}},1143:function(n,e,s){n.exports=s.p+"static/media/logo_1line.b30b479d1cd55ab5d9a0.png"}}]);
//# sourceMappingURL=228.402788c6.chunk.js.map